<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Creating Laserpunk | juniper dusk</title>
<meta name=keywords content="Laserpunk,devlog">
<meta name=description content="A write-up on my experience solo developing an action platformer in two weeks.">
<meta name=author content="Juniper">
<link rel=canonical href=http://juniper-dusk.github.io/posts/laserpunk-devlog/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.6f60056d44d3f7eb69a4bc6c332b59960f3a995802bded244750232f33713c49.css integrity="sha256-b2AFbUTT9+tppLxsMytZlg86mVgCve0kR1AjLzNxPEk=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://juniper-dusk.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=http://juniper-dusk.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=http://juniper-dusk.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=http://juniper-dusk.github.io/apple-touch-icon.png>
<link rel=mask-icon href=http://juniper-dusk.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.89.0">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Creating Laserpunk">
<meta property="og:description" content="A write-up on my experience solo developing an action platformer in two weeks.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://juniper-dusk.github.io/posts/laserpunk-devlog/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-07-21T15:35:08-04:00">
<meta property="article:modified_time" content="2021-07-21T15:35:08-04:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Creating Laserpunk">
<meta name=twitter:description content="A write-up on my experience solo developing an action platformer in two weeks.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://juniper-dusk.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Creating Laserpunk","item":"http://juniper-dusk.github.io/posts/laserpunk-devlog/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating Laserpunk","name":"Creating Laserpunk","description":"A write-up on my experience solo developing an action platformer in two weeks.","keywords":["Laserpunk","devlog"],"articleBody":"Theme For Level Up Circle: Beginner Jam, I embarked on my first solo game jam. I felt comfortable working in Godot and GDScript at this point, so it was a natural choice for this project.\nThe theme was “Temperature is key”. A couple ideas for core game systems sprung to mind right away. These were ideas shared among some of the participants, but I figured I could put enough spin and polish into the mechanics to make my game stand out.\nBefore reading the devlog, I highly recommend checking out the project for yourself! The web build works on Chrome.\nInitial concepts  Balancing offense and defense in a combat setting, using overheating as a limit on attack power. Real-world concepts that require careful temperature management: cooking, hot air balloons, etc. Puzzles involving changing the state of matter (ice, water, steam) to make progress through the level.  Fleshing it out The first idea attracted my attention as a fresh challenge, as I had not implemented a real-time combat system before. My previous project involved movement as the primary focus. The main inspiration I had for controls was Katana Zero: tight platforming movement would still be key to survival, but attention would be split to offense as well. I also pulled some cues from my shmup project in enemy design.\nFurther reinforcing this idea would be the thermal management of the protagonist’s weapons. Rather than trying to prioritize both offense and defence, the heat build-up and cooldown phases would create two separate paradigms of combat: damage and evasion.\n Art On a somewhat limited time schedule, character design and sprite work happened simultaneously. Since the running theme of my process was unifying everything into a single core concept, I thought it would be cool to make the character one with the weapons and thermal systems by making them an android that uses their own energy in the weapons.\nI started with a set of basic animations for the player character, following some invaluable tutorials by Pedro Medeiros (@saint11) regarding run cycles and jumps.\nOverall, I was pretty happy with the results, especially the movement on the cape. If I were to do the sprites again with more time and experience, I would just give them more in-between and smear frames. To save time I also used the Zughy 32 palette, but a more neon-heavy saturated palette might work better.\n Combat Putting the laser in Laserpunk In order to keep scope small, I designed only a single attack for the player. A laser beam was the perfect weapon to pair with the thermal mechanics. The beam could be fired for a certain amount before it raised the player’s temperature too high.\nIf the temperature reached this threshold, a cool-down phase would start where the temperature returns back to normal levels. Here, the player could only move and dash, but not fire their weapon.\nEasy to learn, hard to master During playtesting, I realized that this cycle could get somewhat repetitive, and there wasn’t much reward for the risk of running a high temperature. In order to reward skilled players, I designed a multiplier system: the higher your temperature, the more damage your laser would do. This would accompanied by visible feedback to the player with a change in color and width of the laser beam.\nThis served a secondary purpose as well: it made the difficulty curve scale slightly better when more enemies started spawning. At the start, you could coast just destroying one enemy at a time, but a minute in you had to use the extra damage to kill enemies quickly before things got out of hand.\nAnother form of depth I added was by making the dash cool-down. The move was less precise than simply moving, but offered some invincibility to make up for it. As a result, it encouraged more active movement from the player.\n Platforming  Even though combat was important, from some early playtesting by myself and others I discovered that tight platforming was required to provide good player feedback and allow evasion of enemies and projectiles. This process of feedback and testing early on to iterate upon was something I maintained throughout development.\nState Machine One of the first problems to solve while implementing a platformer is keeping the player from jumping while already in the air. It’s possible to solve this naively by detecting when a character is colliding with the floor. However, a number of edge cases arise when you tack on other actions the character must perform. For instance, a dash shouldn’t be interrupted by a jump. This can be solved with something called a state machine, which transitions between exclusive states, and prevents said interruption while in the “dash” state.\nGame Programming Patterns has a very solid write-up on the subject, so I won’t repeat too much of what is contained there. It’s fairly trivial to get an object-oriented state machine up and running with nodes in Godot following this guide.\nI have seen systems where states are defined as resources rather than inheriting from nodes, which makes more semantic sense in my opinion: the state doesn’t need to exist in the game engine, it only needs to be accessed by the player node. When I port the state machine code to my next project I will improve that.\nSo there’s a state machine for the player to move, jump, and dash separately. What about if you want to add a combat system that can be activated at any time? Simply add another state machine for it! I also planned to give enemies their own movement and combat state machines and a rudimentary AI system, but ran out of time. Instead, I made them static with simple, time-based projectiles instead.\nPolish It turns out a lot of things go into good platforming feel that a state machine won’t solve. Although it is pretty common knowledge to include these things, I’ll list what I implemented.\nInertia Humans and animals do not start walking/running and stop on a dime. There’s a build up to get to full speed, and a slowdown to get to a stop (which either takes the place of the run - walk - stand, or a “skid” where friction takes over).\nHang-time This one is not based in physical reality but rather for the sake of good control. When jumps follow a pre-determined arc like fighting games, this is unnecessary. In most platformers, however, a player can move in the air to reposition where they will land. The principle of inertia applies during the jump as well, with parameters being tweaked to give a character a more “floaty” or “heavy” feel.\nScreen shake \u0026 freeze frames Manipulating the camera and adding a delay to impactful actions gives the action more weight. Solely in terms of movement, I used this pretty heavily on the player’s dash to give a sense of the power it takes to perform this action.\n Future Improvements As the project was done in two weeks, there are plenty of areas that could be improved.\n Create more enemy varieties, bullet patterns, and grounded enemies that navigate the environment. Add levels and a story mode, as opposed to an endless arena. Give the player more attacks. Laser swords are sick!  ","wordCount":"1209","inLanguage":"en","datePublished":"2021-07-21T15:35:08-04:00","dateModified":"2021-07-21T15:35:08-04:00","author":{"@type":"Person","name":"Juniper"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://juniper-dusk.github.io/posts/laserpunk-devlog/"},"publisher":{"@type":"Organization","name":"juniper dusk","logo":{"@type":"ImageObject","url":"http://juniper-dusk.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://juniper-dusk.github.io/ accesskey=h title="juniper dusk (Alt + H)">juniper dusk</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=http://juniper-dusk.github.io/about title=About>
<span>About</span>
</a>
</li>
<li>
<a href=http://juniper-dusk.github.io/gallery title=Gallery>
<span>Gallery</span>
</a>
</li>
<li>
<a href=https://juniper-dusk.itch.io/ title=Games>
<span>Games</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://juniper-dusk.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://juniper-dusk.github.io/posts/>Posts</a></div>
<h1 class=post-title>
Creating Laserpunk
</h1>
<div class=post-description>
A write-up on my experience solo developing an action platformer in two weeks.
</div>
<div class=post-meta><span title="2021-07-21 15:35:08 -0400 -0400">July 21, 2021</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Juniper
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#theme aria-label=Theme>Theme</a><ul>
<ul>
<li>
<a href=#initial-concepts aria-label="Initial concepts">Initial concepts</a></li>
<li>
<a href=#fleshing-it-out aria-label="Fleshing it out">Fleshing it out</a></li></ul>
</ul>
</li>
<li>
<a href=#art aria-label=Art>Art</a></li>
<li>
<a href=#combat aria-label=Combat>Combat</a><ul>
<ul>
<li>
<a href=#putting-the-laser-in-laserpunk aria-label="Putting the laser in Laserpunk">Putting the laser in Laserpunk</a></li>
<li>
<a href=#easy-to-learn-hard-to-master aria-label="Easy to learn, hard to master">Easy to learn, hard to master</a></li></ul>
</ul>
</li>
<li>
<a href=#platforming aria-label=Platforming>Platforming</a><ul>
<li>
<a href=#state-machine aria-label="State Machine">State Machine</a></li>
<li>
<a href=#polish aria-label=Polish>Polish</a><ul>
<li>
<a href=#inertia aria-label=Inertia>Inertia</a></li>
<li>
<a href=#hang-time aria-label=Hang-time>Hang-time</a></li>
<li>
<a href=#screen-shake--freeze-frames aria-label="Screen shake &amp;amp; freeze frames">Screen shake & freeze frames</a></li></ul>
</li></ul>
</li>
<li>
<a href=#future-improvements aria-label="Future Improvements">Future Improvements</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><p><img loading=lazy src=/images/laserpunk-demo.gif alt="Game Demo GIF">
</p>
<h2 id=theme>Theme<a hidden class=anchor aria-hidden=true href=#theme>#</a></h2>
<p>For <a href=https://itch.io/jam/level-up-circle-beginner-jam-1>Level Up Circle: Beginner Jam</a>, I embarked on my first solo game jam. I felt comfortable working in Godot and GDScript at this point, so it was a natural choice for this project.</p>
<p>The theme was &ldquo;Temperature is key&rdquo;. A couple ideas for core game systems sprung to mind right away. These were ideas shared among some of the participants, but I figured I could put enough spin and polish into the mechanics to make my game stand out.</p>
<p>Before reading the devlog, I highly recommend <a href=https://juniper-dusk.itch.io/laserpunk-demo>checking out the project for yourself</a>! The web build works on Chrome.</p>
<h4 id=initial-concepts>Initial concepts<a hidden class=anchor aria-hidden=true href=#initial-concepts>#</a></h4>
<ul>
<li>Balancing offense and defense in a combat setting, using overheating as a limit on attack power.</li>
<li>Real-world concepts that require careful temperature management: cooking, hot air balloons, etc.</li>
<li>Puzzles involving changing the state of matter (ice, water, steam) to make progress through the level.</li>
</ul>
<h4 id=fleshing-it-out>Fleshing it out<a hidden class=anchor aria-hidden=true href=#fleshing-it-out>#</a></h4>
<p>The first idea attracted my attention as a fresh challenge, as I had not implemented a real-time combat system before. My <a href=https://coffeebreakgamestudio.itch.io/courier-connect>previous project</a> involved movement as the primary focus. The main inspiration I had for controls was Katana Zero: tight platforming movement would still be key to survival, but attention would be split to offense as well. I also pulled some cues from my shmup project in enemy design.</p>
<p>Further reinforcing this idea would be the thermal management of the protagonist&rsquo;s weapons. Rather than trying to prioritize both offense and defence, the heat build-up and cooldown phases would create two separate paradigms of combat: damage and evasion.</p>
<hr>
<h2 id=art>Art<a hidden class=anchor aria-hidden=true href=#art>#</a></h2>
<p>On a somewhat limited time schedule, character design and sprite work happened simultaneously. Since the running theme of my process was unifying everything into a single core concept, I thought it would be cool to make the character one with the weapons and thermal systems by making them an android that uses their own energy in the weapons.</p>
<p>I started with a set of basic animations for the player character, following some invaluable tutorials by Pedro Medeiros (<a href=https://twitter.com/saint11>@saint11</a>) regarding run cycles and jumps.</p>
<p><img loading=lazy src=/images/protag-animated-display.gif alt="Protagonist Animations">
</p>
<p>Overall, I was pretty happy with the results, especially the movement on the cape. If I were to do the sprites again with more time and experience, I would just give them more in-between and smear frames. To save time I also used the <a href=https://lospec.com/palette-list/zughy-32>Zughy 32 palette</a>, but a more neon-heavy saturated palette might work better.</p>
<hr>
<h2 id=combat>Combat<a hidden class=anchor aria-hidden=true href=#combat>#</a></h2>
<h4 id=putting-the-laser-in-laserpunk>Putting the laser in Laserpunk<a hidden class=anchor aria-hidden=true href=#putting-the-laser-in-laserpunk>#</a></h4>
<p>In order to keep scope small, I designed only a single attack for the player. A laser beam was the perfect weapon to pair with the thermal mechanics. The beam could be fired for a certain amount before it raised the player&rsquo;s temperature too high.</p>
<p>If the temperature reached this threshold, a cool-down phase would start where the temperature returns back to normal levels. Here, the player could only move and dash, but not fire their weapon.</p>
<h4 id=easy-to-learn-hard-to-master>Easy to learn, hard to master<a hidden class=anchor aria-hidden=true href=#easy-to-learn-hard-to-master>#</a></h4>
<p>During playtesting, I realized that this cycle could get somewhat repetitive, and there wasn&rsquo;t much reward for the risk of running a high temperature. In order to reward skilled players, I designed a multiplier system: <strong>the higher your temperature, the more damage your laser would do</strong>. This would accompanied by visible feedback to the player with a change in color and width of the laser beam.</p>
<p>This served a secondary purpose as well: it made the difficulty curve scale slightly better when more enemies started spawning. At the start, you could coast just destroying one enemy at a time, but a minute in you had to use the extra damage to kill enemies quickly before things got out of hand.</p>
<p>Another form of depth I added was by making the dash cool-down. The move was less precise than simply moving, but offered some invincibility to make up for it. As a result, it encouraged more active movement from the player.</p>
<hr>
<h2 id=platforming>Platforming<a hidden class=anchor aria-hidden=true href=#platforming>#</a></h2>
<h2 id=heading><a hidden class=anchor aria-hidden=true href=#heading>#</a></h2>
<p>Even though combat was important, from some early playtesting by myself and others I discovered that tight platforming was required to provide good player feedback and allow evasion of enemies and projectiles. This process of feedback and testing early on to iterate upon was something I maintained throughout development.</p>
<h3 id=state-machine>State Machine<a hidden class=anchor aria-hidden=true href=#state-machine>#</a></h3>
<p>One of the first problems to solve while implementing a platformer is keeping the player from jumping while already in the air. It&rsquo;s possible to solve this naively by detecting when a character is colliding with the floor. However, a number of edge cases arise when you tack on other actions the character must perform. For instance, a dash shouldn&rsquo;t be interrupted by a jump. This can be solved with something called a state machine, which transitions between exclusive states, and prevents said interruption while in the &ldquo;dash&rdquo; state.</p>
<p><a href=http://gameprogrammingpatterns.com/state.html>Game Programming Patterns</a> has a very solid write-up on the subject, so I won&rsquo;t repeat too much of what is contained there. It&rsquo;s fairly trivial to get an object-oriented state machine up and running with nodes in Godot following this guide.</p>
<p>I have seen systems where states are defined as resources rather than inheriting from nodes, which makes more semantic sense in my opinion: the state doesn&rsquo;t need to exist in the game engine, it only needs to be accessed by the player node. When I port the state machine code to my next project I will improve that.</p>
<p>So there&rsquo;s a state machine for the player to move, jump, and dash separately. What about if you want to add a combat system that can be activated at any time? Simply add another state machine for it! I also planned to give enemies their own movement and combat state machines and a rudimentary AI system, but ran out of time. Instead, I made them static with simple, time-based projectiles instead.</p>
<h3 id=polish>Polish<a hidden class=anchor aria-hidden=true href=#polish>#</a></h3>
<p>It turns out a lot of things go into good platforming feel that a state machine won&rsquo;t solve. Although it is pretty <a href="https://www.youtube.com/watch?v=yorTG9at90g">common knowledge</a> to include these things, I&rsquo;ll list what I implemented.</p>
<h4 id=inertia>Inertia<a hidden class=anchor aria-hidden=true href=#inertia>#</a></h4>
<p>Humans and animals do not start walking/running and stop on a dime. There&rsquo;s a build up to get to full speed, and a slowdown to get to a stop (which either takes the place of the run -> walk -> stand, or a &ldquo;skid&rdquo; where friction takes over).</p>
<h4 id=hang-time>Hang-time<a hidden class=anchor aria-hidden=true href=#hang-time>#</a></h4>
<p>This one is not based in physical reality but rather for the sake of good control. When jumps follow a pre-determined arc like fighting games, this is unnecessary. In most platformers, however, a player can move in the air to reposition where they will land. The principle of inertia applies during the jump as well, with parameters being tweaked to give a character a more &ldquo;floaty&rdquo; or &ldquo;heavy&rdquo; feel.</p>
<h4 id=screen-shake--freeze-frames>Screen shake & freeze frames<a hidden class=anchor aria-hidden=true href=#screen-shake--freeze-frames>#</a></h4>
<p>Manipulating the camera and adding a delay to impactful actions gives the action more weight. Solely in terms of movement, I used this pretty heavily on the player&rsquo;s dash to give a sense of the power it takes to perform this action.</p>
<hr>
<h2 id=future-improvements>Future Improvements<a hidden class=anchor aria-hidden=true href=#future-improvements>#</a></h2>
<p>As the project was done in two weeks, there are plenty of areas that could be improved.</p>
<ul>
<li>Create more enemy varieties, bullet patterns, and grounded enemies that navigate the environment.</li>
<li>Add levels and a story mode, as opposed to an endless arena.</li>
<li>Give the player more attacks. Laser swords are sick!</li>
</ul>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=http://juniper-dusk.github.io/tags/laserpunk/>Laserpunk</a></li>
<li><a href=http://juniper-dusk.github.io/tags/devlog/>devlog</a></li>
</ul>
<nav class=paginav>
<a class=prev href=http://juniper-dusk.github.io/posts/craftpunk-devlog/>
<span class=title>« Prev Page</span>
<br>
<span>Making a modular crafting system in Godot</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=http://juniper-dusk.github.io/>juniper dusk</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>